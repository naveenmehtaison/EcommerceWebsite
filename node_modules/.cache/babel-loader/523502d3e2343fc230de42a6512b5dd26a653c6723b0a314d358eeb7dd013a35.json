{"ast":null,"code":"import{Button,Row,Col,Card}from\"react-bootstrap\";import CartButton from\"./CartButton\";import classes from'./Cart.module.css';import{useState,useContext}from\"react\";import DataContext from\"../../Store/auth-context\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Cart(props){const[err,seterr]=useState(null);const[loading,setisloading]=useState(false);console.log(props.props);// if(props.props==false){\n//     console.log('true hai')\n//     seterr(true)\n// }\nconsole.log('inside cart,js');const Ctx=useContext(DataContext);const[arr,setarr]=useState(Ctx.arr);async function HandleDel(ele,items){setisloading(true);try{console.log(ele);const response=await axios.delete(\"https://crudcrud.com/api/3da97b9609784182ab428b91f1be7ec0/\".concat(Ctx.curemail,\"/\").concat(ele._id));const responseData=response.data;Ctx.removeitem(ele,items);setarr(responseData);}catch(err){console.log(err.message);setarr(err.message);}// console.log(Ctx.arr.length)\nsetisloading(false);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.modal,children:[/*#__PURE__*/_jsx(\"h1\",{align:\"center\",children:\"CART\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"b\",{style:{left:\"30%\",position:'relative'},children:\"Price\"}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Quantiy\"}),/*#__PURE__*/_jsx(\"hr\",{})]})]}),!props.props&&!loading&&Ctx.arr.length==0&&/*#__PURE__*/_jsx(\"p\",{children:\"Cart is Empty\"}),err&&/*#__PURE__*/_jsx(\"p\",{children:err.message}),!props.props&&!loading&&!err&&Ctx.arr.map((ele,items)=>{return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"img\",{src:ele.imageUrl,style:{height:'90px',width:'100px'}})}),/*#__PURE__*/_jsx(Col,{children:ele.price}),/*#__PURE__*/_jsxs(Col,{children:[ele.quantity,/*#__PURE__*/_jsx(Button,{style:{background:'red'},onClick:()=>{HandleDel(ele,items);},children:\"Remove\"})]})]});}),props.props&&/*#__PURE__*/_jsx(\"p\",{children:\"loading..\"})&&/*#__PURE__*/_jsxs(\"p\",{children:[\"'Something went wrong ....Retrying \",/*#__PURE__*/_jsx(Button,{onClick:()=>{props.props=true;},children:\"Retrying\"})]})]})});}export default Cart;","map":{"version":3,"names":["Button","Row","Col","Card","CartButton","classes","useState","useContext","DataContext","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","props","err","seterr","loading","setisloading","console","log","Ctx","arr","setarr","HandleDel","ele","items","response","delete","concat","curemail","_id","responseData","data","removeitem","message","children","className","modal","align","style","left","position","length","map","src","imageUrl","height","width","price","quantity","background","onClick"],"sources":["C:/Users/RYZEN/OneDrive/Desktop/Ecommerce-website/01-starting-project/src/Components/Cart/Cart.js"],"sourcesContent":["import { Button , Row,Col,Card} from \"react-bootstrap\";\r\nimport CartButton from \"./CartButton\";\r\nimport classes from './Cart.module.css'\r\nimport { useState,useContext } from \"react\";\r\nimport DataContext from \"../../Store/auth-context\";\r\nimport axios from \"axios\";\r\nfunction Cart(props){\r\n    const [err,seterr]=useState(null)\r\n    const [loading,setisloading] = useState(false)\r\n    console.log(props.props)\r\n    // if(props.props==false){\r\n    //     console.log('true hai')\r\n    //     seterr(true)\r\n    // }\r\n\r\n\r\n\r\n    console.log('inside cart,js')\r\n    const Ctx= useContext(DataContext)\r\n    const [arr,setarr]=useState(Ctx.arr)\r\n   \r\n    async function HandleDel  (ele, items) {\r\n        \r\n        \r\n        setisloading(true)\r\n        try{\r\n            console.log(ele)\r\n\r\n            const response = await axios.delete(`https://crudcrud.com/api/3da97b9609784182ab428b91f1be7ec0/${Ctx.curemail}/${ele._id}`)\r\n            const responseData= response.data\r\n        \r\n            Ctx.removeitem(ele,items)\r\n            setarr(responseData)\r\n        }\r\n        catch(err){\r\n            console.log(err.message)\r\n            setarr(err.message)\r\n        }\r\n        // console.log(Ctx.arr.length)\r\n        setisloading(false)\r\n    }\r\n    \r\n    return(\r\n        <>\r\n\r\n            <div className={classes.modal}>\r\n                <h1 align='center'>CART</h1>\r\n                <Row>\r\n                    <Col>\r\n                        <b>Image</b>\r\n                        <hr></hr>\r\n                    </Col>\r\n                    <Col>\r\n                    <b style={{left: \"30%\",position:'relative'}}>Price</b><hr></hr></Col>\r\n                    <Col>\r\n                    <b>Quantiy</b><hr></hr>\r\n                    \r\n                    </Col>\r\n                </Row>\r\n                {!props.props && !loading && Ctx.arr.length==0&&\r\n                \r\n                    <p>Cart is Empty</p>\r\n                }\r\n                {err && <p>{err.message}</p>}\r\n                {!props.props && !loading  && !err && Ctx.arr.map((ele,items)=>{\r\n                    return(\r\n                    <Row>\r\n                        <Col>\r\n                            <img  src={ele.imageUrl} style={{height:'90px',width:'100px'}}></img>\r\n                        </Col>\r\n                        <Col>\r\n                        {ele.price}</Col>\r\n                        <Col>\r\n                        {ele.quantity}\r\n                        <Button style={{background:'red'}} onClick={()=>{HandleDel(ele,items)}}>Remove</Button>\r\n                        </Col>\r\n                    </Row>)\r\n                })}\r\n                {props.props && <p>loading..</p> && <p>'Something went wrong ....Retrying <Button onClick={()=>{props.props=true}}>Retrying</Button></p>}\r\n                \r\n\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Cart"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}